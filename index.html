<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>La M√°quina de Creaci√≥n M√°gica</title>

    <!-- INICIO: Mejoras de SEO para todo el habla hispana (NUEVO) -->
    <meta name="description" content="¬°Juego educativo e interactivo para ni√±os! Combina ingredientes m√°gicos para crear objetos en 17 categor√≠as de aprendizaje: ciencia, espacio, arte, matem√°ticas, historia, tecnolog√≠a y m√°s. Ideal para el aprendizaje en espa√±ol."/>
    <meta name="keywords" content="juego para ni√±os, juego educativo, aprendizaje espa√±ol, ciencia, arte, matem√°ticas, juego interactivo, m√°quina m√°gica, categor√≠as, creaci√≥n, infantil, habla hispana, did√°ctico"/>
    <meta name="author" content="Gemini AI"/>

    <!-- Open Graph Tags para Redes Sociales (Facebook, WhatsApp, etc.) -->
    <meta property="og:title" content="‚ú® La M√°quina de Creaci√≥n M√°gica: Juego Educativo V1.0"/>
    <meta property="og:description" content="¬°Juego interactivo para ni√±os en espa√±ol! Combina 3 ingredientes m√°gicos para explorar 17 categor√≠as como ciencia, historia y fantas√≠a."/>
    <meta property="og:type" content="game"/>
    <meta property="og:locale" content="es_ES"/>
    <!-- FIN: Mejoras de SEO -->

    <!-- Incluir Tone.js para la generaci√≥n de audio -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.js"></script>
    <style>
        /* Estilos generales para hacerlo divertido y amigable */
        body {
            font-family: 'Comic Sans MS', cursive, sans-serif;
            background: linear-gradient(135deg, #f0f9ff 0%, #c9e6ff 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
        }

        .game-container {
            background-color: #ffffff;
            border: 10px solid #a6d4fa;
            border-radius: 30px;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
            padding: 40px 30px;
            text-align: center;
            max-width: 90%;
            width: 600px;
            transition: all 0.5s ease-in-out;
        }

        h1 {
            color: #4a90e2;
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        /* Controles de Audio */
        .audio-controls {
            margin-bottom: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }
        
        .audio-controls label {
            font-weight: bold;
            color: #6a1b9a;
            font-size: 0.9em;
        }
        
        /* Estilo para el bot√≥n de Play/Pause */
        #music-toggle-button {
            padding: 8px 15px;
            font-size: 1em;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            background-color: #FF9800;
            color: white;
            box-shadow: 0 3px 0 #E65100;
            transition: all 0.2s;
        }
        
        #music-toggle-button:active {
            transform: translateY(3px);
            box-shadow: none;
        }


        /* Nuevo estilo para el progreso */
        .progress-bar {
            color: #4CAF50;
            font-size: 1.1em;
            font-weight: bold;
            margin-bottom: 10px;
            min-height: 20px;
        }

        p.instruction {
            color: #7f8c8d;
            font-size: 1.2em;
            margin-bottom: 20px;
            min-height: 30px;
        }

        /* √Årea de visualizaci√≥n del objetivo y resultado */
        .creation-display {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 200px;
            margin-bottom: 30px;
            background: linear-gradient(45deg, #f7f7f7, #ffffff);
            border: 5px solid #81c784;
            border-radius: 20px;
            position: relative;
            overflow: hidden;
            transition: background-color 0.5s;
        }
        
        .creation-display h2 {
            color: #4a90e2;
            font-size: 1.5em;
            margin: 0;
        }

        /* Estilo para el elemento visual (emoji) */
        .visual-element {
            font-size: 6em;
            transition: transform 0.8s ease, opacity 0.8s ease;
            margin-top: 10px;
        }

        /* Indicador de ingredientes */
        .ingredient-indicators {
            margin-bottom: 25px;
            display: flex;
            justify-content: center;
            gap: 15px;
        }

        .indicator {
            font-size: 2em;
            opacity: 0.3;
            transition: opacity 0.3s;
        }

        .indicator.collected {
            opacity: 1;
            transform: scale(1.1);
        }

        /* Contenedor de botones */
        .controls {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
        }

        /* Estilo base del bot√≥n */
        .action-button {
            padding: 12px 20px;
            font-size: 1em;
            font-weight: bold;
            color: white;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.1s, box-shadow 0.3s;
            box-shadow: 0 4px 0 rgba(0, 0, 0, 0.2);
            min-width: 100px;
            background-color: #6a1b9a; /* Color por defecto, ser√° sobrescrito */
        }

        .action-button:active {
            transform: translateY(4px);
            box-shadow: 0 0 0 rgba(0, 0, 0, 0.2);
        }

        .action-button:disabled {
            background-color: #ccc !important;
            box-shadow: none;
            cursor: not-allowed;
            transform: none;
        }

        /* Mensajes */
        #message-box {
            margin-top: 20px;
            font-weight: bold;
            min-height: 20px;
            color: #4CAF50;
            font-size: 1.1em;
        }

        /* Estilos de √©xito */
        .success-animation {
            animation: bounce 0.5s infinite alternate;
        }

        @keyframes bounce {
            from { transform: translateY(0) scale(1.1); }
            to { transform: translateY(-10px) scale(1.2); }
        }

        /* Media queries para m√≥vil */
        @media (max-width: 600px) {
            .game-container {
                padding: 15px;
            }
            h1 {
                font-size: 1.5em;
            }
            .progress-bar {
                font-size: 1em;
            }
            p.instruction {
                font-size: 0.9em;
            }
            .creation-display {
                height: 150px;
            }
            .visual-element {
                font-size: 5em;
            }
            .ingredient-indicators {
                gap: 10px;
                margin-bottom: 20px;
            }
            .indicator {
                font-size: 1.5em;
            }
            .action-button {
                padding: 10px 15px;
                font-size: 0.9em;
                min-width: 80px;
            }
        }
    </style>
</head>
<body>

    <div class="game-container">
        <!-- T√≠tulo actualizado con la versi√≥n -->
        <h1>‚ú® La M√°quina de Creaci√≥n M√°gica ü™Ñ <span style="font-size: 0.5em; vertical-align: top; color: #6a1b9a;">(Versi√≥n 1.0)</span></h1>
        
        <!-- Controles de volumen y m√∫sica -->
        <div class="audio-controls">
            <button id="music-toggle-button">‚ñ∂Ô∏è Iniciar M√∫sica</button>
            <label for="volume-slider">Volumen:</label>
            <input type="range" id="volume-slider" min="-30" max="0" value="-10" step="1">
        </div>

        <div class="progress-bar" id="progress-indicator">Desaf√≠o 1 de 17</div>
        
        <p class="instruction" id="instruction-text">
            ¬°Usa los ingredientes correctos para completar el desaf√≠o!
        </p>

        <div class="creation-display">
            <h2 id="goal-text"></h2>
            <div id="visual-output" class="visual-element"></div>
        </div>
        
        <div class="ingredient-indicators" id="ingredient-indicators">
            <!-- Indicadores de ingredientes requeridos -->
        </div>

        <div class="controls" id="game-controls">
            <!-- Los botones se a√±adir√°n y actualizar√°n con JavaScript -->
        </div>

        <div id="message-box"></div>
    </div>

    <script type="module">
        // Referencias a elementos del DOM
        const visualOutput = document.getElementById('visual-output');
        const instructionText = document.getElementById('instruction-text');
        const goalText = document.getElementById('goal-text');
        const gameControls = document.getElementById('game-controls');
        const indicatorContainer = document.getElementById('ingredient-indicators');
        const messageBox = document.getElementById('message-box');
        const progressIndicator = document.getElementById('progress-indicator');
        
        // Elementos de audio
        const volumeSlider = document.getElementById('volume-slider');
        const musicToggleButton = document.getElementById('music-toggle-button');

        // --- Configuraci√≥n de los Desaf√≠os ---
        const CHALLENGES = [
            {
                category: "Naturaleza (Ciencias Naturales)",
                goal: "Flor M√°gica üå∏",
                emoji: "üå∫",
                ingredients: [
                    { name: "Agua", emoji: "üíß", color: "#2196F3" },
                    { name: "Sol", emoji: "‚òÄÔ∏è", color: "#FFC107" },
                    { name: "Amor", emoji: "üé∂", color: "#9C27B0" }
                ],
                success: "¬°La semilla creci√≥! ¬°Tienes una flor m√°gica!"
            },
            {
                category: "El Espacio (Astronom√≠a)",
                goal: "Planeta ü™ê",
                emoji: "üåç",
                ingredients: [
                    { name: "Nebulosa", emoji: "üåå", color: "#673AB7" },
                    { name: "Gravedad", emoji: "üß≤", color: "#00BCD4" },
                    { name: "Polvo Estelar", emoji: "‚ú®", color: "#FFEB3B" }
                ],
                success: "¬°Creaste un nuevo mundo! ¬°Es un planeta de juguete!"
            },
            {
                category: "Animales (Biolog√≠a)",
                goal: "Le√≥n ü¶Å",
                emoji: "üëë",
                ingredients: [
                    { name: "Fuerza", emoji: "üí™", color: "#F44336" },
                    { name: "Pelo", emoji: "ü™∂", color: "#FF9800" },
                    { name: "Rugido", emoji: "üì£", color: "#795548" }
                ],
                success: "¬°Guau! El rey de la selva ha aparecido."
            },
            {
                category: "Veh√≠culos (Ingenier√≠a)",
                goal: "Cohete üöÄ",
                emoji: "üõ∞Ô∏è",
                ingredients: [
                    { name: "Metal", emoji: "üî©", color: "#9E9E9E" },
                    { name: "Combustible", emoji: "üî•", color: "#FF5722" },
                    { name: "Piloto", emoji: "üßë‚ÄçüöÄ", color: "#607D8B" }
                ],
                success: "¬°Despegue exitoso! ¬°A volar por el espacio!"
            },
            {
                category: "Comida (Cocina)",
                goal: "Pastel üç∞",
                emoji: "üéÇ",
                ingredients: [
                    { name: "Huevos", emoji: "ü•ö", color: "#E91E63" },
                    { name: "Az√∫car", emoji: "üçö", color: "#FFC107" },
                    { name: "Horno", emoji: "‚ô®Ô∏è", color: "#795548" }
                ],
                success: "¬°Qu√© delicioso! El pastel est√° listo para celebrar."
            },
            {
                category: "M√∫sica (Arte)",
                goal: "Canci√≥n üéµ",
                emoji: "üéß",
                ingredients: [
                    { name: "Voz", emoji: "üé§", color: "#009688" },
                    { name: "Instrumento", emoji: "üé∏", color: "#673AB7" },
                    { name: "Ritmo", emoji: "ü•Å", color: "#CDDC39" }
                ],
                success: "¬°Qu√© ritmo! ¬°Una canci√≥n m√°gica que te hace bailar!"
            },
            {
                category: "Clima (Meteorolog√≠a)",
                goal: "Arco√≠ris üåà",
                emoji: "üå¶Ô∏è",
                ingredients: [
                    { name: "Lluvia", emoji: "üåßÔ∏è", color: "#03A9F4" },
                    { name: "Sol", emoji: "‚òÄÔ∏è", color: "#FFC107" },
                    { name: "Cristales", emoji: "üíé", color: "#E040FB" }
                ],
                success: "¬°Qu√© belleza! Apareci√≥ un arco√≠ris m√°gico de colores."
            },
            {
                category: "Cuerpo Humano (Salud)",
                goal: "M√∫sculo üí™",
                emoji: "üèÉ",
                ingredients: [
                    { name: "Comida Sana", emoji: "üçé", color: "#4CAF50" },
                    { name: "Ejercicio", emoji: "ü§∏", color: "#3F51B5" },
                    { name: "Descanso", emoji: "üí§", color: "#9E9E9E" }
                ],
                success: "¬°S√∫per fuerte! Creaste un m√∫sculo de campe√≥n."
            },
            {
                category: "Arte (Dibujo)",
                goal: "Cuadro üñºÔ∏è",
                emoji: "üé®",
                ingredients: [
                    { name: "Pintura", emoji: "üñåÔ∏è", color: "#FF9800" },
                    { name: "Lienzo", emoji: "‚¨ú", color: "#EAEAEA" },
                    { name: "Idea", emoji: "üí°", color: "#FFEB3B" }
                ],
                success: "¬°Una obra maestra! Creaste un cuadro muy divertido."
            },
            {
                category: "Matem√°ticas (Geometr√≠a)",
                goal: "Cubo üßä",
                emoji: "üìê",
                ingredients: [
                    { name: "L√≠neas Rectas", emoji: "‚ûñ", color: "#333333" },
                    { name: "√Ångulos", emoji: "‚äæ", color: "#795548" },
                    { name: "L√≥gica", emoji: "üß†", color: "#00BCD4" }
                ],
                success: "¬°Qu√© orden! Un cubo perfecto de tres dimensiones."
            },
            {
                category: "Sentimientos (Emociones)",
                goal: "Risa üòÑ",
                emoji: "ü•≥",
                ingredients: [
                    { name: "Amigos", emoji: "üßë‚Äçü§ù‚Äçüßë", color: "#FF4081" },
                    { name: "Bromas", emoji: "ü§£", color: "#FFAB00" },
                    { name: "Abrazos", emoji: "ü§ó", color: "#8BC34A" }
                ],
                success: "¬°JAJAJA! ¬°El sentimiento m√°s divertido de todos!"
            },
            {
                category: "Historia (Prehistoria)",
                goal: "Dinosaurio ü¶ñ",
                emoji: "ü¶¥",
                ingredients: [
                    { name: "Huesos", emoji: "üíÄ", color: "#795548" },
                    { name: "Tierra Antigua", emoji: "üåã", color: "#FF5722" },
                    { name: "Mucho Tiempo", emoji: "‚è≥", color: "#FFEB3B" }
                ],
                success: "¬°Roar! Un enorme y amigable dinosaurio de juguete."
            },
            {
                category: "Tecnolog√≠a (Invenci√≥n)",
                goal: "Robot ü§ñ",
                emoji: "‚öôÔ∏è",
                ingredients: [
                    { name: "Chips", emoji: "üß†", color: "#9E9E9E" },
                    { name: "Cables", emoji: "üîå", color: "#FF4081" },
                    { name: "Electricidad", emoji: "‚ö°", color: "#FFEB3B" }
                ],
                success: "¬°BEEP BOOP! Tienes un robot que te ayuda a ordenar."
            },
            {
                category: "Geograf√≠a (Paisajes)",
                goal: "Volc√°n üåã",
                emoji: "‚õ∞Ô∏è",
                ingredients: [
                    { name: "Piedras", emoji: "ü™®", color: "#607D8B" },
                    { name: "Magma", emoji: "üü†", color: "#E65100" },
                    { name: "Presi√≥n", emoji: "üí®", color: "#B3E5FC" }
                ],
                success: "¬°Qu√© vista! Un majestuoso volc√°n, ¬°pero no hace erupci√≥n!"
            },
            {
                category: "Fantas√≠a (Magia)",
                goal: "Varita M√°gica ü™Ñ",
                emoji: "üåü",
                ingredients: [
                    { name: "Polvo de Hada", emoji: "‚ú®", color: "#FFCCBC" },
                    { name: "Madera", emoji: "ü™µ", color: "#795548" },
                    { name: "Un Deseo", emoji: "üí≠", color: "#4A148C" }
                ],
                success: "¬°Abracadabra! Una varita lista para cumplir un deseo."
            },
            {
                category: "Idiomas (Comunicaci√≥n)",
                goal: "Palabra Nueva üó£Ô∏è",
                emoji: "üìñ",
                ingredients: [
                    { name: "Boca", emoji: "üëÑ", color: "#E91E63" },
                    { name: "O√≠do", emoji: "üëÇ", color: "#9E9E9E" },
                    { name: "Significado", emoji: "‚ùì", color: "#00BCD4" }
                ],
                success: "¬°Qu√© divertido! Aprendiste una palabra nueva."
            },
            {
                category: "Cuentos (Personajes)",
                goal: "Princesa/H√©roe üë∏",
                emoji: "üè∞",
                ingredients: [
                    { name: "Valor", emoji: "üõ°Ô∏è", color: "#3F51B5" },
                    { name: "Vestido/Capa", emoji: "üëó", color: "#FF9800" },
                    { name: "Castillo", emoji: "üëë", color: "#BCAAA4" }
                ],
                success: "¬°Un final feliz! El h√©roe/princesa est√° listo para su aventura."
            }
        ];
        
        const TOTAL_CHALLENGES = CHALLENGES.length; // 17 ahora

        // Estado actual del juego
        let currentChallengeIndex = 0;
        let collectedIngredients = [];
        
        // --- L√ìGICA DE AUDIO ---
        let synth, loop, musicStarted = false;
        
        // Funci√≥n para inicializar y empezar la m√∫sica
        async function startMusic() {
            // Tone.js requiere que se inicie el contexto de audio despu√©s de una interacci√≥n del usuario
            await Tone.start();
            
            // Si la m√∫sica ya se inici√≥, solo reanudar
            if (musicStarted) {
                Tone.getTransport().start();
                musicToggleButton.textContent = "‚è∏Ô∏è Pausar M√∫sica";
                return;
            }

            // Inicializar el sintetizador (para un sonido alegre)
            synth = new Tone.PolySynth(Tone.Synth, {
                oscillator: { type: "triangle" },
                envelope: {
                    attack: 0.05,
                    decay: 0.1,
                    sustain: 0.3,
                    release: 1
                }
            }).toDestination();
            
            // Aplicar el volumen inicial del slider
            synth.volume.value = volumeSlider.value; 

            // Melod√≠a simple y alegre (escala mayor)
            const notes = ["C4", "E4", "G4", "A4", "G4", "E4", "C4", "G3"];
            let noteIndex = 0;

            // Crear el loop de repetici√≥n
            loop = new Tone.Loop(time => {
                const note = notes[noteIndex % notes.length];
                synth.triggerAttackRelease(note, "8n", time);
                noteIndex++;
            }, "4n").start(0);

            // Iniciar el transporte (el "reloj" de la m√∫sica)
            Tone.getTransport().bpm.value = 120; // Ritmo
            Tone.getTransport().start();

            musicStarted = true;
            musicToggleButton.textContent = "‚è∏Ô∏è Pausar M√∫sica";
        }
        
        // Funci√≥n para pausar la m√∫sica
        function stopMusic() {
            if (musicStarted) {
                Tone.getTransport().pause();
                musicToggleButton.textContent = "‚ñ∂Ô∏è Reanudar M√∫sica";
            }
        }

        // Event listener para el bot√≥n de Play/Pause
        musicToggleButton.addEventListener('click', () => {
            if (!musicStarted || Tone.getTransport().state === 'stopped' || Tone.getTransport().state === 'paused') {
                startMusic();
            } else {
                stopMusic();
            }
        });
        
        // Event listener para el control de volumen
        volumeSlider.addEventListener('input', (event) => {
            // El valor del slider es en decibelios (dB), Tone.js lo usa directamente
            if (synth) {
                synth.volume.value = event.target.value;
            }
        });

        // --- L√ìGICA DEL JUEGO ---

        /**
         * Maneja el clic en un bot√≥n de ingrediente.
         * @param {string} ingredientName - El nombre del ingrediente clickeado.
         */
        function handleActionClick(ingredientName) {
            messageBox.textContent = '';
            
            // Verificar si el ingrediente ya fue recolectado
            if (collectedIngredients.includes(ingredientName)) {
                // Mostrar un mensaje m√°s amigable para ni√±os
                messageBox.textContent = `¬°Ya tienes ${ingredientName}! Necesitas otro ingrediente m√°gico para esta creaci√≥n.`;
                messageBox.style.color = '#FFA000'; // Naranja
                return;
            }

            // Agregar el nuevo ingrediente
            collectedIngredients.push(ingredientName);

            // 1. Actualizar visuales (indicadores y mensaje)
            updateIngredientIndicators();
            messageBox.textContent = `¬°A√±adiste ${ingredientName}! ¬°Sigue as√≠!`;
            messageBox.style.color = '#4CAF50'; // Verde

            // 2. Comprobar si se complet√≥ el desaf√≠o
            const currentChallenge = CHALLENGES[currentChallengeIndex];
            if (collectedIngredients.length === currentChallenge.ingredients.length) {
                // Desaf√≠o completado, mostrar el √©xito y preparar el bot√≥n Siguiente
                showSuccess(currentChallenge);
                visualOutput.classList.add('success-animation');
            }
        }

        /**
         * Muestra el resultado de √©xito y prepara el bot√≥n para avanzar.
         */
        function showSuccess(challenge) {
            visualOutput.textContent = challenge.emoji;
            messageBox.textContent = challenge.success;
            messageBox.style.color = '#4A148C'; // Morado
            instructionText.textContent = `¬°Completaste la categor√≠a: ${challenge.category}!`;

            // Ocultar botones de ingredientes y mostrar bot√≥n Siguiente
            gameControls.innerHTML = ''; 

            const nextButton = document.createElement('button');
            
            // Verificar si es el √∫ltimo desaf√≠o
            const isLastChallenge = currentChallengeIndex === TOTAL_CHALLENGES - 1;

            nextButton.textContent = isLastChallenge
                                     ? "¬°Volver a Empezar! üöÄ" 
                                     : "¬°Siguiente Desaf√≠o! üëâ";
            nextButton.className = 'action-button';
            nextButton.style.backgroundColor = isLastChallenge ? '#f44336' : '#00C853';
            nextButton.addEventListener('click', handleNextChallenge);
            gameControls.appendChild(nextButton);
        }

        /**
         * Maneja el avance al siguiente desaf√≠o o reinicio.
         */
        function handleNextChallenge() {
            visualOutput.classList.remove('success-animation');
            collectedIngredients = []; // Resetear ingredientes

            if (currentChallengeIndex < TOTAL_CHALLENGES - 1) {
                currentChallengeIndex++; // Avanzar
            } else {
                currentChallengeIndex = 0; // Reiniciar
            }

            updateGameView();
        }


        /**
         * Crea y actualiza los indicadores visuales de los ingredientes requeridos.
         */
        function updateIngredientIndicators() {
            const currentChallenge = CHALLENGES[currentChallengeIndex];
            indicatorContainer.innerHTML = '';

            currentChallenge.ingredients.forEach(ing => {
                const indicator = document.createElement('span');
                indicator.textContent = ing.emoji;
                indicator.className = 'indicator';
                
                // Si el ingrediente est√° recolectado, hacerlo visible
                if (collectedIngredients.includes(ing.name)) {
                    indicator.classList.add('collected');
                }
                indicatorContainer.appendChild(indicator);
            });
        }


        /**
         * Actualiza la interfaz del juego (visuales, texto y botones).
         */
        function updateGameView() {
            const currentChallenge = CHALLENGES[currentChallengeIndex];
            
            // 0. Actualizar el indicador de progreso
            progressIndicator.textContent = `Desaf√≠o ${currentChallengeIndex + 1} de ${TOTAL_CHALLENGES}`;

            // 1. Mostrar informaci√≥n del desaf√≠o actual
            goalText.textContent = `Desaf√≠o: ${currentChallenge.goal} (${currentChallenge.category})`;
            instructionText.textContent = `¬°Busca los 3 ingredientes para crear un(a) ${currentChallenge.goal.split(' ')[0]}!`;
            visualOutput.textContent = currentChallenge.emoji;
            visualOutput.style.transform = 'scale(1)';
            messageBox.textContent = '';

            // 2. Crear los botones de acci√≥n (ingredientes)
            gameControls.innerHTML = '';
            currentChallenge.ingredients.forEach(ing => {
                const button = document.createElement('button');
                button.textContent = `${ing.emoji} ${ing.name}`;
                button.className = 'action-button';
                button.style.backgroundColor = ing.color;
                
                // Deshabilitar si ya est√° recolectado
                if (collectedIngredients.includes(ing.name)) {
                    button.disabled = true;
                } else {
                    // Usar bind para pasar el nombre del ingrediente al hacer click
                    button.addEventListener('click', () => handleActionClick(ing.name));
                }
                gameControls.appendChild(button);
            });

            // 3. Actualizar los indicadores
            updateIngredientIndicators();
        }

        // Inicializar el juego al cargar la ventana
        window.onload = updateGameView;

    </script>
</body>
</html>
